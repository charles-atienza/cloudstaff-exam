{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Brian Files\\\\cloudstaff\\\\exam\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { UserpageComponent } from '../userpage/userpage.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user-api.service\";\nimport * as i2 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(userApi) {\n    this.userApi = userApi;\n    this.toggleLogin = new EventEmitter();\n    this.username = '';\n    this.password = '';\n  }\n\n  ngOnInit() {}\n\n  LoginUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      //call backend api\n      _this.userApi.login(_this.username, _this.password).subscribe(res => {\n        if (res === null || res === void 0 ? void 0 : res.successful) {\n          _this.toggleLogin.emit();\n\n          UserpageComponent.userInfo = res.account;\n        }\n      }, err => {\n        console.error(err);\n      }); // let results = await this.userApi.getUsers().subscribe(\n      //   res => {\n      //     console.log(res);\n      //   },\n      //   err => {\n      //     console.error(err);\n      //   }\n      // );\n\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserApiService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  outputs: {\n    toggleLogin: \"toggleLogin\"\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"input\"], [\"type\", \"text\", \"name\", \"username\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"login\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"label\");\n      i0.ɵɵtext(3, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 0);\n      i0.ɵɵelementStart(6, \"label\");\n      i0.ɵɵtext(7, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 0);\n      i0.ɵɵelementStart(10, \"input\", 3);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_input_click_10_listener() {\n        return ctx.LoginUser();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["D:/Brian Files/cloudstaff/exam/src/app/login/login.component.ts"],"names":["EventEmitter","UserpageComponent","i0","i1","i2","LoginComponent","constructor","userApi","toggleLogin","username","password","ngOnInit","LoginUser","login","subscribe","res","successful","emit","userInfo","account","err","console","error","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","UserApiService","ɵcmp","ɵɵdefineComponent","type","selectors","outputs","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_input_ngModelChange_4_listener","$event","LoginComponent_Template_input_ngModelChange_8_listener","LoginComponent_Template_input_click_10_listener","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { UserpageComponent } from '../userpage/userpage.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../user-api.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nexport class LoginComponent {\r\n    constructor(userApi) {\r\n        this.userApi = userApi;\r\n        this.toggleLogin = new EventEmitter();\r\n        this.username = '';\r\n        this.password = '';\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    async LoginUser() {\r\n        //call backend api\r\n        this.userApi.login(this.username, this.password).subscribe(res => {\r\n            if (res === null || res === void 0 ? void 0 : res.successful) {\r\n                this.toggleLogin.emit();\r\n                UserpageComponent.userInfo = res.account;\r\n            }\r\n        }, err => {\r\n            console.error(err);\r\n        });\r\n        // let results = await this.userApi.getUsers().subscribe(\r\n        //   res => {\r\n        //     console.log(res);\r\n        //   },\r\n        //   err => {\r\n        //     console.error(err);\r\n        //   }\r\n        // );\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserApiService)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], outputs: { toggleLogin: \"toggleLogin\" }, decls: 11, vars: 2, consts: [[1, \"input\"], [\"type\", \"text\", \"name\", \"username\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"login\", 3, \"click\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"form\");\r\n        i0.ɵɵelementStart(1, \"div\", 0);\r\n        i0.ɵɵelementStart(2, \"label\");\r\n        i0.ɵɵtext(3, \"Username\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"input\", 1);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) { return ctx.username = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"div\", 0);\r\n        i0.ɵɵelementStart(6, \"label\");\r\n        i0.ɵɵtext(7, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"input\", 2);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_8_listener($event) { return ctx.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 0);\r\n        i0.ɵɵelementStart(10, \"input\", 3);\r\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_input_click_10_listener() { return ctx.LoginUser(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.username);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\r\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}